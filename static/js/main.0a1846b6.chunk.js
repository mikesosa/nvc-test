(this["webpackJsonppoc-imdb"]=this["webpackJsonppoc-imdb"]||[]).push([[0],{201:function(e,t,n){},221:function(e,t,n){},228:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){"use strict";n.r(t);var r=n(7),c=n(0),a=n(22),s=n.n(a),i=n(38),o=n(59),u=n(33),l=n(29),h=n.n(l),d=n(44),j="https://api.themoviedb.org/3",p="09c5eb0f60392c8dda3b7fe5ff41e96d",b="".concat(j).concat("/search/multi?language=en-US&include_adult=false","&api_key=").concat(p),f=n(123),v=n(124),g=n(125),O=n.n(g),m=function(){function e(t,n){Object(f.a)(this,e),this.client=function(){var e={baseURL:arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,timeout:3e4,withCredentials:!1,headers:{"Content-Type":arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/json"}},t=O.a.create(e),n=function(e){return e},r=function(e){return e};return t.interceptors.request.use(n),t.interceptors.request.use(r),t.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t}(t,n)}return Object(v.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.client.get(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.client.delete(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.client.head(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.client.options(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.post(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.put(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},{key:"patch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.patch(e,t,n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}}]),e}(),x=function(){var e;return{getApiInstance:function(t,n){return e&&!t||(e=function(e,t){return new m(e,t)}(t,n)),e}}}().getApiInstance(),w={shows:[],pages:{},seasonDetail:null,showDetail:null,selectedShow:null,searchQuery:"",loadingShows:!1,errorShows:null,currentRequestId:void 0},S=Object(o.b)({name:"shows",initialState:w,reducers:{setSelected:function(e,t){var n=t.payload;e.selectedShow=n},fetchingShowsStarted:function(e){e.loadingShows=!0},fetchingShowsSuccess:function(e,t){var n=t.payload;e.shows=n.results,e.pages={currentPage:n.page,total_pages:n.total_pages,total_results:n.total_pages},e.loadingShows=!1,e.errorShows=null},fetchingShowsError:function(e,t){var n=t.payload;e.shows=[],e.errorShows=n,e.loadingShows=!1},setSearchQuery:function(e,t){var n=t.payload;e.searchQuery=n},fetchingDetailStarted:function(e){e.loadingShows=!0},fetchingDetailSuccess:function(e,t){var n=t.payload;e.showDetail=n,e.loadingShows=!1,e.errorShows=null},fetchingDetailError:function(e,t){var n=t.payload;e.showDetail=null,e.errorShows=n,e.loadingShows=!1},fetchingSeasonStarted:function(e){e.loadingShows=!0},fetchingSeasonSuccess:function(e,t){var n=t.payload;e.seasonDetail=n,e.loadingShows=!1,e.errorShows=null},fetchingSeasonError:function(e,t){var n=t.payload;e.seasonDetail=null,e.errorShows=n,e.loadingShows=!1}},extraReducers:{}}),y=S.reducer,k=S.actions,P=k.fetchingShowsStarted,_=k.fetchingShowsSuccess,D=k.fetchingShowsError,E=k.setSearchQuery,I=k.fetchingDetailStarted,N=k.fetchingDetailSuccess,Q=k.fetchingDetailError,C=k.fetchingSeasonStarted,M=k.fetchingSeasonError,T=k.fetchingSeasonSuccess,G=k.setSelected,H=function(e){return e.shows},L=function(e){var t=e.searchQuery,n=e.searchPage;return function(){var e=Object(d.a)(h.a.mark((function e(r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(P()),r(E({searchQuery:t,searchPage:n})),e.prev=2,e.next=5,x.get("".concat(b,"&query=").concat(t,"&page=").concat(n));case 5:c=e.sent,r(_(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(D(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},R=function(e){var t=e.showId,n=e.mediaType;return function(){var e=Object(d.a)(h.a.mark((function e(r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(I()),e.prev=1,e.next=4,x.get("".concat(j,"/").concat(n,"/").concat(t,"?api_key=").concat(p,"&external_source=imdb_id"));case 4:c=e.sent,r(N(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(Q(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e){var t=e.tvId,n=e.seasonNumber;return function(){var e=Object(d.a)(h.a.mark((function e(r){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(C()),e.prev=1,e.next=4,x.get("".concat(j,"/tv/").concat(t,"/season/").concat(n,"?api_key=").concat(p));case 4:c=e.sent,r(T(c.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(M(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(G(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=Object(u.c)({shows:y}),K=n(103),z=n(126),J=n.n(z),U=n(127),W=n.n(U),B=Object(o.c)({serializableCheck:!1}),V={key:"root",storage:J.a,stateReconciler:W.a},X=Object(K.a)(V,F),Y=Object(o.a)({reducer:X,middleware:B}),Z=Object(K.b)(Y),$=Y,ee=n(254),te=ee.a.Content;var ne=function(e){var t=e.children;return Object(r.jsx)(ee.a,{children:Object(r.jsx)(te,{style:{padding:"2rem",minHeight:"100vh"},children:t})})};var re=function(){return Object(r.jsx)(ne,{children:Object(r.jsxs)("p",{children:["404 page not found ",Object(r.jsx)("a",{href:"/",children:"go home"})]})})},ce=n(129),ae=n(73),se=n(25),ie=n(62),oe=n(252),ue=n(249),le=n(130),he=n.n(le),de=n(250),je=n(133),pe=n(255),be=n(256),fe=(n(201),de.a.Search),ve=ee.a.Header;var ge=function(){var e=Object(se.h)().path,t=Object(se.g)(),n=Object(i.b)(),c=Object(i.c)(H).loadingShows,a=Object(r.jsx)(pe.a,{style:{color:"#FFF"},spin:!0});return Object(r.jsxs)(ve,{className:"header-nav",children:[Object(r.jsxs)("div",{className:"logo",children:[Object(r.jsx)("a",{href:"/nvc-test",children:"SHOWS"}),"/nvc-test"!==e&&Object(r.jsx)("a",{href:"/nvc-test",className:"return-btn",children:Object(r.jsx)(be.a,{})})]}),Object(r.jsxs)("div",{className:"menu-search",children:[c&&Object(r.jsx)("div",{className:"demo-loading-container",children:Object(r.jsx)(je.a,{indicator:a})}),Object(r.jsx)(fe,{placeholder:"Type a movie name",allowClear:!0,onSearch:function(r){"/"!==e&&t.push("/nvc-test"),r&&n(L({searchQuery:r,searchPage:1}))},style:{width:300}})]})]})},Oe=ee.a.Content;var me=function(e){var t=e.children;return Object(r.jsxs)(ee.a,{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(Oe,{style:{padding:"6rem 2rem 2rem 2rem",minHeight:"100vh"},children:t})]})},xe=n(253),we=(n(221),xe.a.Meta);var Se=function(e){var t=e.item,n=Object(se.g)(),a=Object(i.b)(),s=Object(se.h)().path,o=Object(c.useState)(!1),u=Object(ie.a)(o,2),l=u[0],j=u[1],p=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(A(t));case 2:n.push("".concat(s,"/detail/").concat(t.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(xe.a,{onClick:function(){return p(t)},hoverable:!0,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},cover:Object(r.jsx)("img",{alt:"example",src:"https://image.tmdb.org/t/p/w500".concat(t.poster_path?t.poster_path:t.backdrop_path?t.backdrop_path:"/v5D7K4EHuQHFSjveq8LGxdSfrGS.jpg")}),children:[l&&Object(r.jsxs)("div",{className:"description-cover",children:["Rating: ",Object(r.jsx)("span",{children:t.popularity})]}),Object(r.jsx)(we,{title:t.title?t.title:t.name})]})};n(228);var ye=function(){var e=Object(i.b)(),t=Object(c.useState)([]),n=Object(ie.a)(t,2),a=n[0],s=n[1],o=Object(i.c)(H),u=o.searchQuery,l=o.shows,j=o.pages;Object(c.useEffect)((function(){l&&1!==j.currentPage?s(a.concat(l)):s(l)}),[l,j]);var p=function(){var t=Object(d.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(L({searchQuery:u.searchQuery,searchPage:n}));case 3:document.documentElement.scrollTop=0,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),oe.b.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)(me,{children:Object(r.jsx)("div",{className:"demo-infinite-container",children:Object(r.jsx)(he.a,{initialLoad:!1,pageStart:0,loadMore:function(){j.total_pages===j.currentPage?oe.b.warning({content:"All results loaded",style:{marginTop:"90vh"}}):p(j.currentPage+1)},hasMore:!0,useWindow:!1,children:Object(r.jsx)(ue.b,{grid:{gutter:16,column:6},dataSource:a,renderItem:function(e){return Object(r.jsx)(ue.b.Item,{children:Object(r.jsx)(Se,{item:e})})}})})})})},ke=n(101),Pe=n(251),_e=n(257),De=(n(243),xe.a.Meta),Ee=ke.a.TabPane;var Ie=function(){var e=Object(c.useState)(null),t=Object(ie.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("0"),o=Object(ie.a)(s,2),u=o[0],l=o[1],j=Object(se.h)().url,p=Object(i.b)(),b=Object(i.c)(H),f=b.loadingShows,v=b.showDetail,g=b.selectedShow,O=b.seasonDetail,m=b.errorShows,x=function(){var e=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{p(R({showId:j.split("/")[3],mediaType:g.media_type}))}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{p(q({tvId:t,seasonNumber:n}))}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){x()}),[]),Object(c.useEffect)((function(){v&&a(v)}),[v]),Object(c.useEffect)((function(){n&&w(n.id,parseInt(u)+1)}),[u,n]),Object(r.jsxs)(me,{children:[f&&"Loading..",n&&Object(r.jsxs)(xe.a,{className:"card-detail",children:[Object(r.jsx)(xe.a.Grid,{hoverable:!1,style:{width:"30%",textAlign:"center"},children:Object(r.jsx)(xe.a,{cover:Object(r.jsx)("img",{alt:"example",src:n?"https://image.tmdb.org/t/p/w500".concat(n.poster_path):""}),children:Object(r.jsx)(De,{title:n.name?n.name:n.original_name?n.original_name:n.original_title})})}),Object(r.jsx)(xe.a.Grid,{hoverable:!1,style:{width:"70%",padding:"2rem"},children:"tv"===g.media_type&&n?Object(r.jsxs)(ke.a,{type:"card",defaultActiveKey:u,activeKey:u,onChange:function(e){return l(e)},children:[m&&Object(r.jsx)("p",{children:m}),O&&n.seasons.map((function(e,t){return Object(r.jsxs)(Ee,{tab:"Season ".concat(e.season_number),className:"tab-content",children:[Object(r.jsx)("h3",{children:e.name}),Object(r.jsx)(ue.b,{itemLayout:"horizontal",dataSource:O.episodes,renderItem:function(e,t){return Object(r.jsx)(ue.b.Item,{children:Object(r.jsx)(ue.b.Item.Meta,{avatar:Object(r.jsx)(Pe.a,{icon:Object(r.jsx)(_e.a,{})}),title:Object(r.jsxs)("span",{children:["Episode ",t,": - ",e.name," -"]}),description:e.overview})})}})]},t)}))]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Genres:"}),Object(r.jsx)("ul",{children:n.genres.map((function(e){return Object(r.jsx)("li",{children:e.name},e.id)}))}),Object(r.jsx)("h3",{children:"Overview:"}),Object(r.jsx)("p",{children:n.overview}),Object(r.jsxs)("h3",{children:["Original language:"," ",Object(r.jsx)("span",{className:"uppercase",children:n.original_language})]}),Object(r.jsxs)("h3",{children:["Release date:"," ",Object(r.jsx)("span",{className:"uppercase",children:n.release_date})]})]})})]})]})};n(244);var Ne=function(){return Object(r.jsx)(ae.a,{children:Object(r.jsxs)(se.d,{children:[Object(r.jsx)(se.b,{exact:!0,path:"/",children:Object(r.jsx)(se.a,{to:"/nvc-test"})}),Object(r.jsx)(se.b,{path:"/nvc-test/detail/:id",children:Object(r.jsx)(Ie,{})}),Object(r.jsx)(se.b,{exact:!0,path:"/nvc-test",children:Object(r.jsx)(ye,{})}),Object(r.jsx)(se.b,{path:"*",children:Object(r.jsx)(re,{})})]})})};s.a.render(Object(r.jsx)(i.a,{store:$,children:Object(r.jsx)(ce.PersistGate,{loading:Object(r.jsx)(re,{}),persistor:Z,children:Object(r.jsx)(Ne,{})})}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.0a1846b6.chunk.js.map